{% set is_supplier=true %}
{% set neglect_items=false %}
{% if filters.party_type == "Supplier" %}
{% set is_supplier = true %}
{% else %}
{% set is_supplier = false %}
{% endif %}
{% if layout_direction == "rtl" %}
{% set is_rtl = true %}
{% else %}
{% set is_rtl = false %}
{% endif %}
{% if filters.neglect_items %}
{% set neglect_items = true %}
{% else %}
{% set neglect_items = false %}
{% endif %}
<html dir="{{ layout_direction }}" lang="{{ lang }}">
<style>
    table, th, td{
      width: 100%;
      border: 1px solid black;
      border-collapse: collapse;
      text-align: center;
      margin-bottom: 20px;
      margin-top: 20px;
      font-size: {{ font_size }}px;
      table-layout:fixed;
    }
    img{
        width: 100%;
    }
    .header-details{
      margin-bottom: 0px;
      margin-top: 0x;
    }
    .header-details td{
      margin: auto;
      font-size: 14px;
    }
</style>
<body>
{% if letter_head %}
{{ letter_head.content }}
<hr>
{% endif %}
<table class="header-details" style="border:none;">
    <tbody>
    <tr style="border:none;">
        <td style="border:none; width:50%; {% if is_rtl %} text-align:right {% else %} text-align:left {% endif %}">
            <h4>
                {{_("Detailed Report")}}-{{_("Items")}}
            </h4>
        </td>
        <td style="border:none; width:50%; {% if is_rtl %} text-align:left {% else %} text-align:right {% endif %}">
            <h4>
                {{_("Printed Date")}}:{{ frappe.utils.getdate(frappe.utils.nowdate()) }}
            </h4>
        </td>
    </tr>
    <tr>
        <td style="border:none; width:50%; {% if is_rtl %} text-align:right {% else %} text-align:left {% endif %}">
            <h4>
                {% if is_supplier %} {{_("Supplier Name")}} {% else %} {{_("Customer Name")}} {% endif %}:{{header.party
                }}
            </h4>
        </td>
        <td style="border:none; width:50%; {% if is_rtl %} text-align:left {% else %} text-align:right {% endif %}">
            <h4>
                {{_("Printed Time")}}:{{ frappe.utils.get_time_str(frappe.utils.now()) }}
            </h4>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div style="text-align:center;">
    <span style="margin-left: 60px; margin-right: 60px;">{{ _("From Date") }}: {{ filters.from_date }}</span>
    <span>{{ _("To Date") }}: {{ filters.to_date }}</span>
</div>
<hr>
{% if summary %}
<!--Summary Table-->
<table class="table summary-table" id="summary">
    <thead>
    <tr>
        <th style="width: 20%"> {{ _("Reference") }}</th>
        <th style="width: 10%"> {{ _("Date") }}</th>
        <th style="width: 10%"> {{ _("Debit") }}</th>
        <th style="width: 10%"> {{ _("Credit") }}</th>
        <th style="width: 10%"> {{ _("Balance From") }}</th>
        <th style="width: 10%"> {{ _("Balance To") }}</th>
        <th style="width: 30%"> {{ _("Statement") }}</th>
    </tr>
    </thead>
    <tbody>
    {% for sum in summary %}
    <tr>
        <td> {% if sum.reference %} {{ sum.reference }} {% endif %}</td>
        <td> {% if sum.date %} {{ sum.date }} {% endif %}</td>
        <td> {% if sum.debit %} {{ sum.debit }} {% endif %}</td>
        <td> {% if sum.credit %} {{ sum.credit }} {% endif %}</td>
        <td> {% if sum.balance_from %} {{ sum.balance_from }} {% endif %}</td>
        <td> {% if sum.balance_to %} {{ sum.balance_to }} {% endif %}</td>
        <td> {% if sum.statement %} {{ sum.statement }} {% endif %}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<hr>
{% endif %}
</body>
</html>